{% extends 'base_generic.html' %}
{% load static %}

{% block content %}
<div class="container mt-5">
    <h1 class="text-center">Edit Vehicle</h1>

    <form method="POST" enctype="multipart/form-data"> <!-- Include enctype for file uploads -->
        {% csrf_token %}
        
        <!-- Vehicle Model -->
        <div class="form-group mb-3">
            <label for="{{ form.model.id_for_label }}">Vehicle Model</label>
            {{ form.model }}
        </div>
        
        <!-- Registration Number -->
        <div class="form-group mb-3">
            <label for="{{ form.registration_number.id_for_label }}">Registration Number</label>
            {{ form.registration_number }}
        </div>
        
        <!-- Capacity -->
        <div class="form-group mb-3">
            <label for="{{ form.capacity.id_for_label }}">Capacity (Number of Seats)</label>
            {{ form.capacity }}
        </div>

        <!-- Status -->
        <div class="form-group mb-3">
            <label for="{{ form.status.id_for_label }}">Vehicle Status</label>
            {{ form.status }}
        </div>

        <!-- Cost Per Mile -->
        <div class="form-group mb-3">
            <label for="{{ form.cost_per_mile.id_for_label }}">Cost Per Mile</label>
            {{ form.cost_per_mile }}
        </div>

        <!-- Vehicle Image -->
        <div class="form-group mb-3">
            <label for="{{ form.image.id_for_label }}">Vehicle Image</label>
            {{ form.image }}
            {% if form.instance.image %}
            <div class="mt-2">
                <p>Current Image:</p>
                <img src="{{ form.instance.image.url }}" alt="{{ form.instance.model }} image" style="max-height: 150px; border: 1px solid #ddd;">
            </div>
            {% endif %}
        </div>

        <!-- Submit and Cancel Buttons -->
        <div class="d-flex justify-content-between mt-4">
            <button type="submit" class="btn btn-primary">Update Vehicle</button>
            <a href="{% url 'vehicle_list' %}" class="btn btn-secondary">Cancel</a>
        </div>
    </form>
</div>
{% endblock %}
